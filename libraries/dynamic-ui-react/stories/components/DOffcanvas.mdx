import {
  Meta,
  ArgTypes,
  Markdown,
  Stories,
  Story,
  Source,
} from '@storybook/blocks';
import { PREFIX_BS } from '../../src/components/config';

import * as DOffcanvasStories from './DOffcanvas.stories';
import * as useOffcanvasContextStories from '../hooks/useOffcanvasContext.stories';

# Offcanvas

## CSS Variables
<Markdown>
  {`

  | Variable                                     | Type              | Description                                 |
  |----------------------------------------------|-------------------|---------------------------------------------|
  | \`--${PREFIX_BS}offcanvas-footer-gap\`       | css length unit   | Space between footer actions                |

  `}
</Markdown>

## Args
<Meta of={DOffcanvasStories} />

<ArgTypes of={DOffcanvasStories} />

## Example

<Story of={useOffcanvasContextStories.useOffcanvasContext} />
<br />

### Context Setup - type with all offcanvas payloads`
<Source
  code={`
type OffcanvasPayload = {
  example: {
    description: string;
  };
};
  `}
/>

### Context Setup - render of `Bootstrap.tsx`
<Source
  code={`
<DOffcanvasContextProvider<OffcanvasPayload>
  portalName="examplePortal"
  availableOffcanvas={{
    example: ExampleOffcanvas,
  }}
>
  <ExampleChildren />
</DOffcanvasContextProvider>
  `}
/>

### Offcanvas Definition - render of `ExampleOffcanvas.tsx`
<Source
  code={`
<DOffcanvas
  name="example"
  staticBackdrop={false}
  scrollable={false}
  openFrom="end"
>
  <DOffcanvas.Header onClose={closeOffcanvas} showCloseButton>
    <h5 className="fw-bold">Advanced filters</h5>
  </DOffcanvas.Header>
  <DOffcanvas.Body>
    <p>Offcanvas body</p>
    <small>{payload.description}</small>
  </DOffcanvas.Body>
  <DOffcanvas.Footer>
    <DButton
      text="cancel"
      theme="secondary"
      variant="outline"
      className="d-grid"
      pill
      onClick={() => closeOffcanvas()}
    />
    <DButton text="ok" className="d-grid" pill />
  </DOffcanvas.Footer>
</DOffcanvas>
  `}
/>

### Offcanvas Usage render of `App.tsx`
<Source
  code={`
<DButton text="Open Offcanvas" onClick={() => openOffcanvas('example')} />
  `}
/>

<Stories />


