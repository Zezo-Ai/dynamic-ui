import {
  Meta,
  ArgTypes,
  Markdown,
  Stories,
  Story,
  Source,
} from '@storybook/blocks';
import { PREFIX_BS } from '../../src/components/config';

import * as DModalStories from './DModal.stories';
import * as useModalContextStories from '../hooks/useModalContext.stories';

# Modal

## CSS Variables
<Markdown>
  {`

  | Variable                                     | Type              | Description                                 |
  |----------------------------------------------|-------------------|---------------------------------------------|
  | \`--${PREFIX_BS}modal-body-padding\`         | css length unit   | Body padding                                |
  | \`--${PREFIX_BS}modal-footer-padding\`       | css length unit   | Footer padding                              |
  | \`--${PREFIX_BS}modal-separator-margin-x\`   | css length unit   | Separator horizontal padding                |
  | \`--${PREFIX_BS}modal-separator-height\`     | css length unit   | Separator height (size)                     |
  | \`--${PREFIX_BS}modal-separator-bg\`         | css color unit    | Separator background (color)                |
  | \`--${PREFIX_BS}modal-fade-transform\`       | css transform     | Fade transform animation                    |

  `}
</Markdown>

## Args
<Meta of={DModalStories} />

<ArgTypes of={DModalStories} />

## Example

<Story of={useModalContextStories.useModalContext} />
<br />

### Context Setup - type with all modal payloads`
<Source
  code={`
type ModalPayload = {
  example: {
    description: string;
  };
};
  `}
/>

### Context Setup - render of `Bootstrap.tsx`
<Source
  code={`
<DModalContextProvider<ModalPayload>
  portalName="examplePortal"
  availableModals={{
    example: ExampleModal,
  }}
>
  <ExampleChildren />
</DModalContextProvider>
  `}
/>

### Modal Definition - render of `ExampleModal.tsx`
<Source
  code={`
<DModal
  name="example"
  centered
  staticBackdrop
  className="d-block"
>
  <DModal.Header onClose={closeModal} showCloseButton>
    <h5 className="fw-bold">Do you want to reject the offer?</h5>
  </DModal.Header>
  <DModal.Body className="py-3 px-5">
    <p>Modal body</p>
    <small>{payload.description}</small>
  </DModal.Body>
  <DModal.Footer>
    <DButton
      text="cancel"
      theme="secondary"
      variant="outline"
      className="d-grid"
      pill
      onClick={() => closeModal()}
    />
    <DButton text="ok" className="d-grid" pill />
  </DModal.Footer>
</DModal>
  `}
/>

### Modal Usage render of `App.tsx`
<Source
  code={`
<DButton text="Open Modal" onClick={() => openModal('example')} />
  `}
/>

<Stories />



